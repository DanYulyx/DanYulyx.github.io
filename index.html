<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const params = new URLSearchParams(window.location.search);
        const code = params.get('code');
        const state = params.get('state');
        const flag = params.get('flag');

        const baseUrl = 'http://293311da.vip.cpolar.top';
        if(!flag){
            window.location.href = baseUrl+'/pss/aTopCallback?code='+code+'&state='+state;
        }else{
            const msg_signature = decodeURIComponent(params.get('msg_signature'));
            const timestamp = decodeURIComponent(params.get('timestamp'));
            const nonce = decodeURIComponent(params.get('nonce'));
            const echostr = decodeURIComponent(params.get('echostr'));

            window.location.href = baseUrl+'/pss/aTopMsgCallback?msg_signature='+msg_signature
                                +'&timestamp'+timestamp
                                +'&nonce='+nonce
                                +'&echostr='+echostr;
        }

    </script>
</body>
</html>
